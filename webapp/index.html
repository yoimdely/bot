
<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sex Health ‚Äî Mini App</title>
  <meta name="theme-color" content="#0b0c0e">
  <link rel="icon" href="/assets/logo.svg">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <!-- Chart.js and jsPDF for charts and PDF export -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="shell">
    <header class="header glass">
      <div class="brand">
        <img class="logo" src="/assets/logo.svg" alt="logo">
        <div>
          <h1>Sex Health</h1>
          <div class="subtitle">–ü—Ä–∏–≤–∞—Ç–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å–æ–≤–µ—Ç—ã</div>
        </div>
      </div>
      <div class="header-actions">
        <button id="lockBtn" class="btn ghost">üîí</button>
        <button id="exportCsv" class="btn">CSV</button>
        <button id="exportPdf" class="btn primary">PDF</button>
      </div>
    </header>

    <main class="grid">
      <section class="card span-2">
        <h2>‚ûï –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h2>
        <form id="eventForm" class="form">
          <div class="row">
            <label>–ö–æ–≥–¥–∞
              <input type="datetime-local" id="dt" required>
            </label>
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è
              <select id="category">
                <option value="sex">–°–µ–∫—Å</option>
                <option value="masturbation">–ú–∞—Å—Ç—É—Ä–±–∞—Ü–∏—è</option>
                <option value="date">–°–≤–∏–¥–∞–Ω–∏–µ</option>
                <option value="foreplay">–ü—Ä–µ–ª—é–¥–∏—è</option>
                <option value="other">–î—Ä—É–≥–æ–µ</option>
              </select>
            </label>
          </div>
          <div class="row">
            <label>–ü–∞—Ä—Ç–Ω—ë—Ä/—à–∞
              <input type="text" id="partner" placeholder="–∏–º—è/–º–µ—Ç–∫–∞ (–æ–ø—Ü.)">
            </label>
            <label>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
              <select id="mood">
                <option value="üëå –Ω–æ—Ä–º–∞–ª—å–Ω–æ">üëå –Ω–æ—Ä–º–∞–ª—å–Ω–æ</option>
                <option value="üî• —Å—É–ø–µ—Ä">üî• —Å—É–ø–µ—Ä</option>
                <option value="üò¥ —É—Å—Ç–∞–ª(–∞)">üò¥ —É—Å—Ç–∞–ª(–∞)</option>
                <option value="üòï —Å—Ç—Ä–µ—Å—Å">üòï —Å—Ç—Ä–µ—Å—Å</option>
              </select>
            </label>
          </div>
          <div class="row">
            <label class="checkbox"><input type="checkbox" id="protected"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –∑–∞—â–∏—Ç–∞</label>
            <label class="checkbox"><input type="checkbox" id="orgasm"> –û—Ä–≥–∞–∑–º</label>
          </div>
          <label>–ó–∞–º–µ—Ç–∫–∞
            <textarea id="note" rows="2" placeholder="—Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç..."></textarea>
          </label>
          <div class="row actions">
            <button type="submit" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button type="button" id="clearBtn" class="btn danger">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
          </div>
        </form>
      </section>

      <section class="card">
        <div class="row space">
          <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
          <select id="filterCat" class="chip">
            <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            <option value="sex">–°–µ–∫—Å</option>
            <option value="masturbation">–ú–∞—Å—Ç—É—Ä–±–∞—Ü–∏—è</option>
            <option value="date">–°–≤–∏–¥–∞–Ω–∏–µ</option>
            <option value="foreplay">–ü—Ä–µ–ª—é–¥–∏—è</option>
            <option value="other">–î—Ä—É–≥–æ–µ</option>
          </select>
        </div>
        <div class="kpis" id="kpis"></div>
        <canvas id="chart" height="140"></canvas>
      </section>

      <section class="card">
        <h2>üí° –°–æ–≤–µ—Ç—ã</h2>
        <ul id="tips" class="tips"></ul>
      </section>

      <section class="card span-2">
        <h2>üóÇ –ò—Å—Ç–æ—Ä–∏—è</h2>
        <div id="history" class="history"></div>
      </section>
    </main>

    <footer class="footer muted">‚öïÔ∏è –ù–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –≤—Ä–∞—á–∞</footer>
  </div>

  <!-- PIN modal -->
  <dialog id="pinModal" class="modal">
    <form method="dialog" class="modal-body card">
      <h3>üîí –í–≤–µ–¥–∏—Ç–µ PIN</h3>
      <input id="pinInput" type="password" inputmode="numeric" maxlength="6" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 2580" class="pin">
      <div class="row actions">
        <button id="pinSet" class="btn">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
        <button id="pinCheck" class="btn primary">–í–æ–π—Ç–∏</button>
      </div>
      <div class="muted small">–ï—Å–ª–∏ PIN –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî –Ω–∞–∂–º–∏ ¬´–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å¬ª.</div>
    </form>
  </dialog>

  <script type="module" src="/app.js"></script>
</body>
</html>
